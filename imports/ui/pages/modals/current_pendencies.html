<template name="current_pendencies">
    <div class="modal fade" id="current_pendencies_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="add_region_modal_Label">Pendências a serem adicionadas ao contrato</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {{#if Template.subscriptionsReady}}
                    <div class="row">
                        <div class="col-12">
                            {{#if pendencies}}
                            <div class="form-group">
                                <select class="custom-select custom-select-lg mb-3 contract_pendency_selected uppercase">
                                    <option value="not_selected" selected>Selecione a pendência*</option>
                                        {{#each pendencies}}
                                            <option class="uppercase" value="{{this._id}}">{{this.description}}</option>
                                        {{/each}}
                                </select>
                            </div>

                            <div class="row">
                                <div class="col-12 text-right">
                                    <button type="button" class="btn btn-primary buttonModalSave addPendencyToContract">Adicionar pendência</button>
                                </div>
                            </div>
                            <hr>
 
                            {{#if currentPendencies}}
                            <h4>Pendências do contrato no momento:</h4>
                            <table class="table table-striped">
                                <thead class="thead-dark text-center">
                                    <tr>
                                        <th class="fontSizeDetails" scope="col">Descrição da pendência</th>
                                        <th class="fontSizeDetails" scope="col">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="text-center">
                                    {{#each currentPendencies}}
                                    <tr>
                                        <td class="uppercase fontSizeDetails">{{this.description}}</td>
                                        <td>
                                            <a class="linkConfig removePendency fontSizeDetails" data-pendency-id="{{this._id}}">Remover</a>
                                        </td>
                                    </tr>
                                    {{/each}}
                                </tbody>
                            </table>
                            {{else}}
                            <h4>Contrato sem pendências no momento.</h4>
                            {{/if}}

                            {{else}}
                            <div class="row">
                                <div class="col-12 center-align">
                                    <img src="/img/logo02.png" class="rounded mx-auto d-block navLogo" alt="Logo Cruz de Malta.">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 text-center">
                                    <h4>Não há opções de pendências disponíveis</h4>
                                </div>
                            </div>

                            {{/if}}
                        </div>
                    </div>
                    {{else}} 
                        {{> pre_loader}} 
                    {{/if}}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary buttonModalCancel" data-dismiss="modal">Fechar</button>
                    <!-- <button type="button" class="btn btn-primary buttonModalSave">Fechar</button> -->
                </div>
                
            </div>
        </div>
    </div>
    {{> add_pendency}}
</template>